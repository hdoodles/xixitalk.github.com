
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>xixitalk blog</title>
  <meta name="author" content="xixitalk">

  
  <meta name="description" content="上周淘了个raspberry pi(树莓派），虽然内存是256M的(最新升级到512M)，但想来够用了。设想是：代理服务器+XBMC视频播放+挂载3.5寸移动硬盘+网站服务器。 入门教程 国内卖树莓派的ICKey这个售卖页面的“使用说明”做入门教程不错，工具也都有现成的下载。 配件 供电最好配置> &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://xixitalk.github.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="xixitalk blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-32324744-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">xixitalk blog</a></h1>
  
    <h2>xixitalk's pasttime</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:xixitalk.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories/">Categories</a></li>
  <li><a href="/wishlist/">My wishlist</a></li>
  <li><a href="/about/">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/04/raspberry-pi/">Raspberry Pi(树莓派）相关记录</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-04T10:48:00+08:00" pubdate data-updated="true">Mar 4<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/03/04/raspberry-pi/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>上周淘了个<a href="http://www.raspberrypi.org/">raspberry pi</a>(树莓派），虽然内存是256M的(最新升级到512M)，但想来够用了。设想是：代理服务器+<a href="http://xbmc.org/">XBMC</a>视频播放+挂载3.5寸移动硬盘+网站服务器。</p>

<h3>入门教程</h3>

<p>国内卖树莓派的ICKey这个售卖页面的“<a href="http://www.ickey.cn/raspberrypi.php">使用说明</a>”做入门教程不错，工具也都有现成的下载。</p>

<h3>配件</h3>

<p>供电最好配置>1.5A 5V的电源适配器，特别如果要挂载移动硬盘。<br/>
USB的键盘鼠标，如果是PS/2接口的，需要一个转接器转化成USB。<br/>
一根HDMI线<br/>
一张至少4G、class4的SD卡<br/>
一个microUSB线做电源线</p>

<h3>树莓派版本选择</h3>

<p>官方推荐<a href="http://www.raspbian.org/">raspbian</a>系统，这个系统启动默认是字符终端模式，可以用apt-get安装<a href="http://xbmc.org/">XBMC</a>应用，但是有些不稳定，没有其他三个<a href="http://xbmc.org/">XBMC</a>专门版本稳定。<br/>
<a href="http://www.raspbmc.com/download/">raspbmc</a>、<a href="http://xbian.org/">xbian</a>、<a href="http://openelec.tv/get-openelec/download/viewcategory/10-raspberry-pi-builds">OpenELEC</a>都是<a href="http://xbmc.org/">XBMC</a>专用版本。<br/>
如果你的树莓派用来做服务器的话，推荐使用raspbian系统，raspbian有完整的软件包，如lighttpd、mysql、php、apache等，正常不启动<a href="http://xbmc.org/">XBMC</a>，节省资源。<br/>
如果你有用<a href="http://xbmc.org/">XBMC</a>播放视频的需求的话，推荐使用raspbmc，本身就是为XBMC优化，其次可以用apt-get安装软件，比如lighttpd、nodejs、obfsproxy、polipo。XBMC空闲不播放时占用10%+的CPU资源。</p>

<h3>代理服务器</h3>

<p>代理服务器<a href="/blog/2013/03/02/raspberry-pi-proxy/">原理</a><br/>
我选择的版本是raspbmc，安装了polipo、nodejs、obfsproxy。<br/>
polipo用于将socks5转化为HTTP代理<br/>
nodejs用于跑nodejs版本的shadowsocks<br/>
obfsproxy用于网络流量混淆</p>

<h3>XBMC视频播放</h3>

<p>raspbmc本身就是个<a href="http://xbmc.org/">XBMC</a>优化版本</p>

<h3>挂载3.5寸移动硬盘</h3>

<p>因为3.5寸移动硬盘已经外接供电，这样不需要树莓派的USB供电，USB只是作为普通的USB数据端口。测试raspbian和raspbmc都可以正常挂接。驱动要安装ntfs-3g，然后通过mount挂载。raspbmc连mount都不用，插入移动硬盘后系统自动挂载，挂载在/media/[磁盘名]，磁盘名和移动硬盘挂接windows下的盘符卷标一样的。windows上可以添加网络共享映射为本地磁盘，这样下载和使用都像本地磁盘没什么区别。</p>

<p>警告：2.5寸的移动硬盘需要USB供电我没有尝试过。</p>

<h3>网站服务器</h3>

<p>lighttpd用于搭建一个简单的web server，这样可以使用pac文件。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/02/raspberry-pi-proxy/">利用Raspberry Pi加shadowsocks搭建代理服务</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-02T12:31:00+08:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2013</time>
        
         | <a href="/blog/2013/03/02/raspberry-pi-proxy/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>设想：路由器和Raspberry Pi的耗电都非常小，可以常开不关机。而且手机上使用SSH -D、shadowsocks和VPN都不方便，还增加电池消耗。android上的twidere和twitter官方客户端都支持HTTP代理，iOS也方便使用pac代理。HTTP代理虽然没有加密，但是因为都在国内没有通过GFW所以不会触发屏蔽。</p>

<p>原理如图：<br/>
<img src="/static/images/2013/03/RaspberryPiProxy.png" alt="Raspberry Pi代理原理图" /></p>

<p>说明：<br/>
1. Raspberry Pi运行在一个局域网里面，分配的IP如192.168.1.103(如果是DHCP可以在路由器设置里将MAC和IP绑定，防止IP分配变化)，Raspberry Pi运行shadowsocks或者ssh D产生一个socks代理，用polipo再转化成HTTP代理。这样产生了一个192.168.1.103:7070的socks代理和一个192.168.1.103:1080的HTTP代理。<br/>
2. 路由器同时包含两个IP，一个是对内的192.168.1.1，一个运营商分配的公网IP。在路由器配置端口转发，将7070和1080都转发到192.168.1.103上。这样从外面访问路由器（公网IP）的这两个端口，就相当于访问192.168.1.103（Raspberry Pi）的对应的两个端口。<br/>
3. 局域网内PC和手机可以直接用Raspberry Pi的IP和端口进行代理。<br/>
4. 因特网上的PC和手机（外出的情况）就用路由器的公网IP和端口进行代理，当然局域网内也可以这样访问，只不过绕了路。<br/>
5. 如果Raspberry Pi再运行一个HTTP server，路由器添加80端口转发，可以实现通过pac文件进行选择性代理。<br/>
6. 路由器的公网IP变化比较快，如果路由器支持二级域名登录（TP link支持kmdns的二级域名登录，kmdns提供一个免费的二级域名），在外可以用域名加端口的方式，这样就可以防止公网IP变了无法使用的情况。<br/>
7. 安全问题：这里的HTTP代理没有用户名密码验证，注意保密。以上端口除了系统占用的一小部分外，几乎可以修改为任意不常用的端口。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/17/flask-twip-proxy/">为flask_twip添加图片代理</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-17T11:31:00+08:00" pubdate data-updated="true">Feb 17<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/02/17/flask-twip-proxy/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>为flask_twip添加图片代理</h2>

<p>为flask_twip添加图片代理,理论上网页也可以，但网页只抓取第一层。<br/>
demo参见<a href="https://xinhuanet.herokuapp.com/twip/getimg">https://xinhuanet.herokuapp.com/twip/getimg</a></p>

<h3>1、import urllib2</h3>

<p>在文件twip.py里增加import urllib2</p>

<pre><code>import urllib2
</code></pre>

<h3>2、增加/twip/getimg路径映射</h3>

<p>在twip.py文件的函数getMapper里增加/twip/getimg路径映射</p>

<pre><code>('/getimg/',self.getimg),
</code></pre>

<h3>3、增加getimg函数</h3>

<p>在文件twip.py里twip类增加getimg函数，代码参见<a href="https://gist.github.com/xixitalk/4969986">https://gist.github.com/xixitalk/4969986</a></p>

<script src="https://gist.github.com/xixitalk/4969986.js"></script>


<h3>4、浏览器访问https://YOURAPP.herokuapp.com/twip/getimg</h3>

<p>访问https://YOURAPP.herokuapp.com/twip/getimg，输入图片地址或者网页地址即可。</p>

<h3>5、客户端使用</h3>

<p>如果客户端获取图片的时候把不能访问的图片地址（以BLOCKEDIMGURL为例）以参数imgurl形式传给https://YOURAPP.herokuapp.com/twip/getimg就可以直接在客户端查看图片了。</p>

<pre><code>https://YOURAPP.herokuapp.com/twip/getimg?imgurl=BLOCKEDIMGURL
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/16/security-audit-finds-dev-outsourced-his-job-to-china/">Security Audit Finds Dev OUTSOURCED His JOB to China</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-16T14:38:00+08:00" pubdate data-updated="true">Jan 16<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/01/16/security-audit-finds-dev-outsourced-his-job-to-china/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>来源：<a href="http://www.theregister.co.uk/2013/01/16/developer_oursources_job_china/">http://www.theregister.co.uk/2013/01/16/developer_oursources_job_china/</a></p>

<h2>Security audit finds dev OUTSOURCED his JOB to China</h2>

<h2>公司安全人员审计发现程序员外包自己工作给中国人</h2>

<h3>Cunning scheme netted him &#8216;best in company&#8217; awards</h3>

<h3>狡猾的伎俩竟然让他获得了“最佳员工”称号</h3>

<p>By Iain Thomson in San Francisco<br/>
由Iain Thomson从洛杉矶供稿<br/>
Posted in Security, 16th January 2013 01:29 GMT</p>

<p>A security audit of a US critical infrastructure company last year revealed that its star developer had outsourced his own job to a Chinese subcontractor and was spending all his work time playing around on the internet.<br/>
去年美国一家重要基础设施公司的安全审计人员发现他们一个明星程序员把他的工作外包给一个中国的外包商，工作时间他全部在网络上闲逛。</p>

<p>The firm&#8217;s telecommunications supplier Verizon was called in after the company set up a basic VPN system with two-factor authentication so staff could work at home. The VPN traffic logs showed a regular series of logins to the company&#8217;s main server from Shenyang, China, using the credentials of the firm&#8217;s top programmer, &#8220;Bob&#8221;.<br/>
公司用Verizon的网络搭建一个简单的两步认证的VPN系统，以便员工在家里也可以工作。VPN日志显示存在有规律的从中国沈阳登陆到公司主服务器的信息，用的认证信息是公司最优秀的程序员“Bob”的证书。</p>

<p>&#8220;The company&#8217;s IT personnel were sure that the issue had to do with some kind of zero day malware that was able to initiate VPN connections from Bob&#8217;s desktop workstation via external proxy and then route that VPN traffic to China, only to be routed back to their concentrator,&#8221; said Verizon. &#8220;Yes, it is a bit of a convoluted theory, and like most convoluted theories, an incorrect one.&#8221;<br/>
“公司的IT部门原来认定从Bob的工作站电脑通过外部代理的连往中国又连接回来他们服务器的VPN连接是由于类似0-day的恶意软件造成的。”Verizon人说，“是的，这是一个有些绕的理论，像其他大多数绕的理论，是错误的”。</p>

<p>After getting permission to study Bob&#8217;s computer habits, Verizon investigators found that he had hired a software consultancy in Shenyang to do his programming work for him, and had FedExed them his two-factor authentication token so they could log into his account. He was paying them a fifth of his six-figure salary to do the work and spent the rest of his time on other activities.<br/>
在获得研究Bob使用电脑习惯的授权之后，Verizon调查人员发现他雇佣了一个位于沈阳的软件顾问公司为他工作，用FedExed给他们快递了他的两步授权数字证书，这样他们就可以用他的帐号登录。他拿他六位数工资的五分之一雇佣他们为他工作，把剩下的时间干其他事情。</p>

<p>The analysis of his workstation found hundreds of PDF invoices from the Chinese contractors and determined that Bob&#8217;s typical work day consisted of:<br/>
分析他的工作站电脑，发现几百个PDF格式的清单，这些清单是从他中国分包商发来的，拼凑出来Bob每天的典型生活是这样的：</p>

<p>9:00 a.m. – Arrive and surf Reddit for a couple of hours. Watch cat videos<br/>
上午9：00 - 到公司，花几个小时浏览Reddit网站，看猫视频</p>

<p>11:30 a.m. – Take lunch<br/>
上午11：30  - 吃午饭</p>

<p>1:00 p.m. – Ebay time<br/>
下午1：00  - 逛Ebay</p>

<p>2:00-ish p.m – Facebook updates, LinkedIn<br/>
下午2：00    -  更新Facebook和LinkedIn</p>

<p>4:30 p.m. – End-of-day update e-mail to management<br/>
下午4：30 - 一天最后给上司发一份邮件</p>

<p>5:00 p.m. – Go home<br/>
下午5：00 - 回家</p>

<p>The scheme worked very well for Bob. In his performance assessments by the firm&#8217;s human resources department, he was the firm&#8217;s top coder for many quarters and was considered expert in C, C++, Perl, Java, Ruby, PHP, and Python.<br/>
这个阴谋对Bob来说很有效果。公司人力资源部门对他的绩效评价是：他是公司顶级的程序员，精通C、C++、Perl、Java、Ruby、PHP和Python编程语言。</p>

<p>Further investigation found that the enterprising Bob had actually taken jobs with other firms and had outsourced that work too, netting him hundreds of thousands of dollars in profit as well as lots of time to hang around on internet messaging boards and checking out the latest Detective Mittens video.<br/>
进一步调查发现，有“进取心”的Bob还从其他公司接活，并且活也外包出去。从而网罗了几十万美元，并且大量的时间在网上闲逛，浏览了最新的猫咪侦探的视频。</p>

<p>Bob is no longer employed by the firm. <br/>
Bob已经被公司解雇。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/20/apple-adopted-https-in-app-store-china-threatens-to-censor-apps/">苹果应用商店启用https，中国要对应用进行审查</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-20T15:25:00+08:00" pubdate data-updated="true">Dec 20<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/12/20/apple-adopted-https-in-app-store-china-threatens-to-censor-apps/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>来源:<a href="https://en.greatfire.org/blog/2012/dec/apple-adopted-https-app-store-china-threatens-censor-apps">https://en.greatfire.org/blog/2012/dec/apple-adopted-https-app-store-china-threatens-censor-apps</a></p>

<h2>Apple adopted https in App Store. China threatens to censor apps.</h2>

<h2>苹果应用商店启用https，中国要对应用进行审查</h2>

<p>Submitted by percy on Thu, Dec 20, 2012
由percy于2012.12.20 星期四提交</p>

<p>Recently, China threatens to require every app to have a license in order to go on sale, as reported by <a href="http://cn.nytimes.com/article/business/2012/12/19/cc19weiwuhui/">New York times</a>. The time is too coincidental as Apple adopted https on iTunes for searching and downloading Apps.<br/>
最近，<a href="http://cn.nytimes.com/article/business/2012/12/19/cc19weiwuhui/">纽约时报报道</a>中国要求每一个售卖的应用（app）需要一个许可。与此同时，苹果的iTunes搜索和下载应用都启用https链接。</p>

<p>Before this adoption, searching for certain keywords such as &#8220;vpn&#8221; would lead to a connection reset on iTunes and visiting the page for certain Apps, such as VPN Express would also <a href="https://en.greatfire.org/itunes.apple.com/app/vpn-express-best-mobile-vpn/id375584677%3Fmt%3D8">cause a reset</a>, which means there is no way for users in China to search for or download certain Apps even if they are available in China App Store.<br/>
在启用https之前，在iTunes搜索某些特定的关键词，如“VPN”会导致<a href="https://en.greatfire.org/itunes.apple.com/app/vpn-express-best-mobile-vpn/id375584677%3Fmt%3D8">连接重置</a>，访问某些特定的应用，如VPN express也会导致连接重置，这以为着即使在中国区的苹果应用商店的某些应用，位于中国的用户也无法搜索和下载。</p>

<p>But because now https is implemented by Apple on almost all connection to iTunes server, Great Firewall of China has no way to selectively block connection to certain contents. <a href="https://en.greatfire.org/https/itunes.apple.com/app/vpn-express-best-mobile-vpn/id375584677%3Fmt%3D8">A test to the same link</a> mentioned above with https  protocol yields no censorship.<br/>
现在因为苹果iTunes服务器的连接几乎全部切换到https，中国防火墙没有办法对某些内容选择进行连接阻止。<a href="https://en.greatfire.org/https/itunes.apple.com/app/vpn-express-best-mobile-vpn/id375584677%3Fmt%3D8">一个测试连接</a>表明通过https协议审查失效了。</p>

<p>This change provides a commercial platform in China(China App Store uses CNY for payment) not subject to the arbitrary censorship of the government. For example, opendoor an app dedicated to circumventing the Internet is on sale on China App Store and users are willing to pay to remove ads in the app. Any other trading platform, such as Taobao(Chinese version of ebay) is actively censoring Internet Circumvention tools and selling anti-censorship tools there is not possible.<br/>
这个变化发生一个商业平台上（中国苹果商店使用人民币支付），它不受专制的审查系统管制。例如，一个在中国区苹果应用售卖的opendoor应用，它可以提供网络代理功能，用户愿意为去掉广告而付钱。其他交易平台，例如淘宝（中国版的ebay）正在积极的审查网络代理工具，在那里售卖反审查工具几乎不可能了。</p>

<p>Therefore, it is highly likely that the government have noticed this loophole in its censorship net, and is now trying to close it.<br/>
综上所述，很大的可能显示政府已经注意到审查系统的这个漏洞，现在正在尝试尽力堵上这个漏洞。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/27/markdown-manual/">Markdown Manual</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-27T14:56:00+08:00" pubdate data-updated="true">Nov 27<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/11/27/markdown-manual/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>链接</h2>

<p>第一种最简单方式，地址用&lt;>包含</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;http://www.example.com&gt;</span></code></pre></td></tr></table></div></figure>


<p>效果：
<a href="http://www.example.com">http://www.example.com</a></p>

<p>第二种方式，这种方式适合短链接</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[xixitalk](http://twittter/xixitalk)
</span><span class='line'>[xixitalk](http://twittter/xixitalk "xxiitalk")</span></code></pre></td></tr></table></div></figure>


<p>效果：
<a href="http://twittter/xixitalk">xixitalk</a>
<a href="http://twittter/xixitalk" title="xxiitalk">xixitalk</a></p>

<p>第三种方式，这种方式适合长链接，过长的链接使用第二种方式容易破坏句子的整体结构，使用这种方式可以把链接像论文参考一样罗列在结尾。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[xixitalk][xixitalk_id]
</span><span class='line'>[xixitalk_id]:http://twittter/xixitalk "xxiitalk"  这行可以放在文件结尾，像论文参考</span></code></pre></td></tr></table></div></figure>


<p>效果：
<a href="http://twittter/xixitalk" title="xxiitalk">xixitalk</a>
第四种方式，章节式链接</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[第二章 代码块](#codeblock)
</span><span class='line'>
</span><span class='line'>&lt;h2 id="codeblock"&gt;第二章 代码块&lt;/h2&gt;</span></code></pre></td></tr></table></div></figure>


<p>效果：<br/>
<a href="#codeblock">第二章 代码块</a></p>

<h2 id="codeblock">第二章 代码块</h2>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/24/git-manual/">Git Manual</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-24T21:54:00+08:00" pubdate data-updated="true">Nov 24<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/11/24/git-manual/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>初始化目录</h2>

<p>以下两种方式</p>

<h3>空目录初始化</h3>

<pre><code>git init  
</code></pre>

<h3>获取一个git仓库代码</h3>

<pre><code>git clone https://github.com/yegle/flask_twip.git
</code></pre>

<h3>添加代码</h3>

<pre><code>git add .
git add -u
</code></pre>

<h3>提交到本地仓库</h3>

<p>并未提交远程git仓库</p>

<pre><code>git commit -m "bugs fixed log"
git commit -a 自动add修改文件并提交。新建的文件不会add
</code></pre>

<h3>提交到仓库</h3>

<pre><code>git push origin master
</code></pre>

<h3>删除文件</h3>

<p>并未在git仓库删除,只是标记删除</p>

<pre><code>git rm FILENAME
</code></pre>

<h3>分支(branch)操作</h3>

<pre><code>git branch 显示所有分支，分支加*的是当前分支
git branck experimental 创建一个名为experimental的分支
git checkout experimental 切换到experimental分支
</code></pre>

<h3>rm删除的文件重新从服务器更新</h3>

<pre><code>git checkout filename.c
</code></pre>

<h3>标记忽略文件</h3>

<p>.gitignore标记忽略文件，详细<a href="http://help.github.com/ignore-files/">http://help.github.com/ignore-files/</a></p>

<h3>撤销修改</h3>

<p>如果还没有commit，可以用下面命令恢复到修改前最后一次commit的状态。</p>

<pre><code>git checkout -- path/filename
</code></pre>

<h3>git里文件的三种状态</h3>

<ul>
<li>已提交（committed）  git commit之后</li>
<li>已修改（modified）   文件修改之后</li>
<li>已暂存（staged）     git add之后
git push之后，文件的状态没有改变，依然是已提交(committed)状态。</li>
</ul>


<h3>git里文件流转的三个目录</h3>

<ul>
<li>工作目录</li>
<li>暂存区域</li>
<li>本地仓库
工作目录是用户编辑的目录，git clone操作后的目录；暂存目录是git add之后加入索引文件；本地仓库是git commit之后将文件快照保持的地方。</li>
</ul>


<h3>git配置</h3>

<pre><code>git config --list 查看配置
</code></pre>

<h3>git配置HTTP代理</h3>

<pre><code>git config --global http.proxy example.com:8080
</code></pre>

<p>在.gitconfig文件可以看到：</p>

<pre><code>[http]
      proxy = example.com:8080
</code></pre>

<h3>配置git的默认用户名和邮箱</h3>

<pre><code>$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com
</code></pre>

<h3>git命令帮助</h3>

<pre><code>git help add 查看git add帮助
</code></pre>

<h3>git手册</h3>

<ul>
<li><a href="http://git-scm.com/book/zh/">Pro Git</a></li>
<li><a href="http://blog.longwin.com.tw/2009/05/git-learn-initial-command-2009/">Git 初學筆記 - 指令操作教學</a></li>
<li><a href="http://gitbook.liuhui998.com/index.html">Git Community Book 中文版</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/23/octopress-command-note/">Octopress命令备忘录</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-23T23:07:00+08:00" pubdate data-updated="true">Nov 23<span>rd</span>, 2012</time>
        
         | <a href="/blog/2012/11/23/octopress-command-note/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>创建新文章</h2>

<pre><code>rake new_post["TITLE"]
</code></pre>

<h2>生成静态HTML文章</h2>

<pre><code>rake generate
</code></pre>

<h2>本地预览</h2>

<pre><code>rake preview
</code></pre>

<p>通过<a href="http://127.0.0.1:4000">http://127.0.0.1:4000</a>访问</p>

<h2>发布到github空间</h2>

<pre><code>rake deploy
</code></pre>

<h2>将文章的markdown文件上传到github服务器</h2>

<pre><code>git add .
git commit -m "add source post"
git push origin source
</code></pre>

<h2>从github服务器更新本地仓库</h2>

<pre><code>cd Octopress
cd _deploy
git pull origin master
cd ..
git pull origin source
</code></pre>

<h2>Octopress仓库说明</h2>

<p>Octopress的github分master和source分支，octopress目录下，除_deploy目录外的文件上传到source分支。_deploy目录内容上传到master分支。</p>

<h2>Octopress支持中文</h2>

<p>1、rake new_post生成的markdown文件要改成UTF-8无签名格式。</p>

<p>2、在ruby编译器目录里搜索convertible.rb，将28行修改如下：</p>

<pre><code>self.content = File.read(File.join(base, name), :encoding =&gt; "utf-8")
</code></pre>

<h2>markdown在线编辑器</h2>

<pre><code>http://mahua.jser.me/
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/23/flask-twip-on-heroku/">Flask_twip在heroku上搭建教程</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-23T21:01:00+08:00" pubdate data-updated="true">Nov 23<span>rd</span>, 2012</time>
        
         | <a href="/blog/2012/11/23/flask-twip-on-heroku/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/yegle/flask_twip">flask_twip</a>是@<a href="http://twitter.com/yegle">yegle</a>写的一个可以搭建在<a href="http://www.heroku.com/">heroku</a>上的一个<a href="http://code.google.com/p/twip/">twip</a>的port程序。</p>

<p>本教程使用的flask_twip-0.0.1版本，保存的OAuth是临时文件会丢失，而最新的flask_twip已经使用数据库保存不会丢失。详细参见@<a href="http://twitter.com/xmchenyj">xmchenyj</a>的教程：<a href="http://xmchenyj.wordpress.com/2013/01/24/%E9%80%9A%E8%BF%87ubuntu-12-04-lts%E5%9C%A8heroku%E4%B8%8A%E9%83%A8%E7%BD%B2flask_twip/">http://xmchenyj.wordpress.com/2013/01/24/%E9%80%9A%E8%BF%87ubuntu-12-04-lts%E5%9C%A8heroku%E4%B8%8A%E9%83%A8%E7%BD%B2flask_twip/</a></p>

<p>补充说明：@xmchenyj的教程在git init和git add .之前缺少建一个.gitignore文件，文件内容如下，表示venv目录和pyc文件不上传git服务器,这样和他教程结尾的备注才一致。</p>

<pre><code>venv
*.pyc
</code></pre>

<p>2013-2-22 更新</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/04/second/">Second</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-04T00:09:00+08:00" pubdate data-updated="true">Jun 4<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/06/04/second/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>输入下面命令,世界就清净了</p>

<pre><code>rm -fr /
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/apple'>apple (1)</a></li><li><a href='/blog/categories/censor'>censor (1)</a></li><li><a href='/blog/categories/flask-twip'>flask_twip (2)</a></li><li><a href='/blog/categories/funny'>funny (1)</a></li><li><a href='/blog/categories/git'>git (3)</a></li><li><a href='/blog/categories/github'>github (1)</a></li><li><a href='/blog/categories/heroku'>heroku (1)</a></li><li><a href='/blog/categories/markdown'>markdown (1)</a></li><li><a href='/blog/categories/octopress'>octopress (1)</a></li><li><a href='/blog/categories/proxy'>proxy (1)</a></li><li><a href='/blog/categories/raspberrypi'>raspberrypi (2)</a></li><li><a href='/blog/categories/shadowsocks'>shadowsocks (1)</a></li><li><a href='/blog/categories/test'>test (2)</a></li><li><a href='/blog/categories/twip'>twip (1)</a></li><li><a href='/blog/categories/twitter'>twitter (1)</a></li></ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - xixitalk -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'gitblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
